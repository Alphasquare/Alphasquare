Submitted at: Sunday 22nd of June 2014 07:32:11 PM

<?php 

/*

Alphasquare X
Rebuilding /UniversalEngine/ on OOP

*/

class Universal {

	public $prefix = "<b>UniversalEngine:</b>&nbsp;";
	private $db;
	private $host;
	private $user;
	private $password;
	protected $logging;

	function __construct($db, $host, $user, $password, $logging = "no") {


		$this->db = $db;
		$this->host = $host;
		$this->user = $user;
		$this->password = $password;
		$this->logging = $logging;


		if ($this->logging == "yes") {
			error_reporting(E_ALL);
			echo ''.$this->prefix.'<i>Object created. Everything /seems/ fine. Logging is on. Setting UnivEng logging on will also set PHP\'s native error reporting into E_ALL mode. Make sure the variables are correct! Please run the start() method of the class now. </i><br>';
		} else {
			error_reporting(0);
		}

	}

	function start() {

		$mysqli = new mysqli($this->host, $this->user, $this->password, $this->db);

		if (mysqli_connect_errno()) {
    		echo ''.$this->prefix.' <i>Could not establish a connection with the database. Please check your variables. For detailed information, refer to PHP error reporting.</i><br>';
    	} else {
    		if ($this->logging == "yes") {
			echo ''.$this->prefix.'<i>Connection established.</i><br>';
		}
    	}

	}

}

class SessionManager {

	public $prefix = "<b>UniversalEngine:</b>&nbsp;";
	protected $logging;

	function __construct($logging = "no") {
		$this->logging = $logging;
	}

	function start_session($id = ""){
		session_start($id);

		if ($this->logging == "yes") {
			echo ''.$this->prefix.'<i>Session created.</i><br>';
		}

	}

	function unset_session() {
		session_destroy();
		if ($this->logging == "yes") {
			echo ''.$this->prefix.'<i>Session destroyed.</i><br>';
		}

	}
}

$UniversalEngine = New Universal("data", "localhost", "root", "", "yes");
$UniversalEngine->start();
$SessionManager = New SessionManager("yes");
$SessionManager->start_session();
$SessionManager->unset_session();
